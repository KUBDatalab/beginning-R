---
# Please do not edit this file directly; it is auto generated.
# Instead, please edit 04-functions-plots.md in _episodes_rmd/
title: "A couple of plots. And making our own functions"
teaching: 80
exercises: 35
questions:
  - "How do I create scatterplots, boxplots, and barplots?"
  - "How can I define my own functions?"
  
objectives:
   - "Produce scatter plots and boxplots using Base R."
   - "Write your own function"
   - "Write loops to repeat calculations"
   - "Use logical tests in loops"
   
keypoints:
   - "Boxplots are useful for visualizing the distribution of a continuous variable."
   - "Barplots are useful for visualizing categorical data."
   - "Functions allows you to repeat the same set of operations again and again."
   - "Loops allows you to apply the same function to lots of data."
   - "Logical tests allow you to apply different calculations on different sets of data."
   
source: Rmd
---



We start by loading the **`tidyverse`** package.


~~~
library(tidyverse)
~~~
{: .language-r}

If not still in the workspace, load the data we saved in the previous lesson.



~~~
interviews_plotting <- read_csv("data_output/interviews_plotting.csv")
~~~
{: .language-r}

If you were unable to complete the previous lesson or did not save the data,
then you can create it now.


~~~
## Not run, but can be used to load in data from previous lesson!
interviews_plotting <- interviews %>%
  ## pivot wider by items_owned
  separate_rows(items_owned, sep = ";") %>%
  ## if there were no items listed, changing NA to no_listed_items
  replace_na(list(items_owned = "no_listed_items")) %>%
  mutate(items_owned_logical = TRUE) %>%
  pivot_wider(names_from = items_owned, 
              values_from = items_owned_logical, 
              values_fill = list(items_owned_logical = FALSE)) %>%
  ## pivot wider by months_lack_food
  separate_rows(months_lack_food, sep = ";") %>%
  mutate(months_lack_food_logical = TRUE) %>%
  pivot_wider(names_from = months_lack_food, 
              values_from = months_lack_food_logical, 
              values_fill = list(months_lack_food_logical = FALSE)) %>%
  ## add some summary columns
  mutate(number_months_lack_food = rowSums(select(., Jan:May))) %>%
  mutate(number_items = rowSums(select(., bicycle:car)))
~~~
{: .language-r}

## Scatterplots ## 

Scatterplots visualizes the relation between two variables in the dataset, by
plotting individual observations in a two-dimensional graph, with the position 
in the x,y-plane defined by the values of the two variables.

The default plot function in Base R takes two vectors, one containing the values 
of the x-axis and one containing the values for the y-axis. Here we use the 
$-notation:


~~~
plot(interviews_plotting$years_liv, interviews_plotting$number_items)
~~~
{: .language-r}



~~~
Error in plot(interviews_plotting$years_liv, interviews_plotting$number_items): object 'interviews_plotting' not found
~~~
{: .error}
We are plotting the number of items owned vs. the number of years lived in the 
village. A hypothesis could be, that the respondents accumulate more items 
the longer they have lived in the village.

Scatterplots are useful for showing that sort for relationships in the data.
Here it does not appear that the correlation exists; there is no clear trend.

We might want to adjust the labels on the axes, and add a main title:

~~~
plot(interviews_plotting$years_liv, interviews_plotting$number_items, 
     main = "Relation between years lived in village and number of items owned",
     xlab = "Years lived",
     ylab = "Items owned")
~~~
{: .language-r}



~~~
Error in plot(interviews_plotting$years_liv, interviews_plotting$number_items, : object 'interviews_plotting' not found
~~~
{: .error}


## Boxplots 
We can use boxplots to visualize the distribution of rooms for each wall type:

~~~
boxplot(interviews_plotting$rooms~interviews_plotting$respondent_wall_type)
~~~
{: .language-r}



~~~
Error in eval(predvars, data, env): object 'interviews_plotting' not found
~~~
{: .error}
Two new things happens here. First, we are using a new way of telling the 
plot function what relationship we want to visualise. 
The function notation y~x, tells the boxplot function that we want to visualise
y as a function of x. In this case we want to visualise the number of rooms, as 
af function of the wall type. 
Secondly, we use a boxplot. A boxplots shows the distribution of the values on 
the y-axis. The median value is indicated by the solid bar.
The box encapsulates 50% of the observations. Its upper and lower borders 
represents the interquartile range (IQR). 
The whiskers on the plot - here only the upper whiskers are shown due to the
nature of the data, represents the range of the data. The distance from the 
upper part of the box, to the whisker is 1.5 times the interquartile range.
The dots that we see for muddaub and sunbricks are outliers. Observations that
lies so far from the rest of the observations, that we consider them as 
outliers.

Depending on the data, and the nature of the analyses we are going to do,
outliers are either very interesting, or something that we can ignore.



## Histograms

Another useful plottype are histograms. 

~~~
hist(interviews_plotting$rooms)
~~~
{: .language-r}



~~~
Error in hist(interviews_plotting$rooms): object 'interviews_plotting' not found
~~~
{: .error}

Histograms counts the number of observations in our data, that lies between 
two values. Here the "breaks" between the values on the x-axis corresponds
nicely to the number of rooms, but they do not have to.





## Writing our own functions ##

When calculating an average of several values, we do two things. First we
count how many values there are. Then we sum all the values, and divides the sum
by the number of values. 
Rather than writing R-code for each of these three operations, we use the 
mean() function, where other more experienced programmers have written the code.

We can write our own functions, where we collect several operations into one 
function. 

Functions in R are defined in this way:

~~~
function_name <- function(x){
  temporary_result_1 <- some_function(x)
  temporary_result_2 <- some_other_function(temporary_result_1)
  yet_another_function(temporary_result_2)
}
~~~
{: .language-r}

function_name defines the name of our function.

function(x) tells R that we are defining a function, that takes X as input.
We can then use that x as input to calculations or other functions within our
own function.

Between the curly braces {}, we define what we want our function to do.
We assign the result of some_function(x) to a temporary result, use that as
the input to a second function, and the result of that as the input to a third 
function. The result of the last calculation we do, will be returned as the 
output of our function.

> ## Exercise
>
> Write a function that calculates the average value of a numeric vector, 
> takes the square root of that average, and returns the result
>
> > ## Solution
> > One way to do this would be:
> > 
> > root_mean <- function(x){
> >              sqrt(mean(x, na.rm=T))
> >               }
> > 
> > Another way could be:
> > 
> > root_mean <- function(x){
> >              temp <- mean(x, na.rm =T)
> >              result <- sqrt(temp)
> >              result
> > }
> > 
> > 
> > 
> {: .solution}
{: .challenge}

## Logical tests in functions ##
Some times we want to do something different to the data, depending on the
data. We can control the flow of the code using the if() construction.

As an example:
if(x<10){
  print("X is smaller than 10")
}else{
  print("x is larger than 10")
}

The if() function will run the code provided in the curly braces {}, if, and 
only if, the expression in the paranthesis is true. If x is 11, x is not  
smaller than 10, and the first print function will not be executed.

The else-part is not requiered, but normally we will have to execute some other 
code if the statement in the if-function is not true. In this case if x is 11, 
the first print-function will not be executed, but the second will.

We use logical tests to handle data differently, depending on some characteristics of the data.

## loops

Loops are constructs we use to do the same operations on lots of data.

### for loops
For loops are constructs used to apply one or more functions on a series of data.


~~~
for(i in 1:10){
  temp <- sqrt(i)
  print(temp)
}
~~~
{: .language-r}



~~~
[1] 1
[1] 1.414214
[1] 1.732051
[1] 2
[1] 2.236068
[1] 2.44949
[1] 2.645751
[1] 2.828427
[1] 3
[1] 3.162278
~~~
{: .output}

will take every value in the vector 1:10, the digits 1 to 10, one by one, assign 
it to a temporary variable i and run the code we write in the curly braces.
Here the for-loop will take all numbers from 1 to 10, calculate the
squareroot of them. The result is assigned to another temporary variable "temp"
and then temp is printed.

#### Danger Will Robinson

As a general rule, R does not handle loops very efficiently. This is a simple 
loop, operating on only 10 values, and we wont notice the difference in speed.

But we can measure it. 

The Sys.time() function will tell us what time our computer thinks it is.
If we run that just before, and just after our loop, we can calculate how long
it took to run.

~~~
[1] 1
[1] 1.414214
[1] 1.732051
[1] 2
[1] 2.236068
[1] 2.44949
[1] 2.645751
[1] 2.828427
[1] 3
[1] 3.162278
[1] 3.316625
[1] 3.464102
[1] 3.605551
[1] 3.741657
[1] 3.872983
[1] 4
[1] 4.123106
[1] 4.242641
[1] 4.358899
[1] 4.472136
[1] 4.582576
[1] 4.690416
[1] 4.795832
[1] 4.898979
[1] 5
[1] 5.09902
[1] 5.196152
[1] 5.291503
[1] 5.385165
[1] 5.477226
[1] 5.567764
[1] 5.656854
[1] 5.744563
[1] 5.830952
[1] 5.91608
[1] 6
[1] 6.082763
[1] 6.164414
[1] 6.244998
[1] 6.324555
[1] 6.403124
[1] 6.480741
[1] 6.557439
[1] 6.63325
[1] 6.708204
[1] 6.78233
[1] 6.855655
[1] 6.928203
[1] 7
[1] 7.071068
[1] 7.141428
[1] 7.211103
[1] 7.28011
[1] 7.348469
[1] 7.416198
[1] 7.483315
[1] 7.549834
[1] 7.615773
[1] 7.681146
[1] 7.745967
[1] 7.81025
[1] 7.874008
[1] 7.937254
[1] 8
[1] 8.062258
[1] 8.124038
[1] 8.185353
[1] 8.246211
[1] 8.306624
[1] 8.3666
[1] 8.42615
[1] 8.485281
[1] 8.544004
[1] 8.602325
[1] 8.660254
[1] 8.717798
[1] 8.774964
[1] 8.831761
[1] 8.888194
[1] 8.944272
[1] 9
[1] 9.055385
[1] 9.110434
[1] 9.165151
[1] 9.219544
[1] 9.273618
[1] 9.327379
[1] 9.380832
[1] 9.433981
[1] 9.486833
[1] 9.539392
[1] 9.591663
[1] 9.643651
[1] 9.69536
[1] 9.746794
[1] 9.797959
[1] 9.848858
[1] 9.899495
[1] 9.949874
[1] 10
[1] 10.04988
[1] 10.0995
[1] 10.14889
[1] 10.19804
[1] 10.24695
[1] 10.29563
[1] 10.34408
[1] 10.3923
[1] 10.44031
[1] 10.48809
[1] 10.53565
[1] 10.58301
[1] 10.63015
[1] 10.67708
[1] 10.72381
[1] 10.77033
[1] 10.81665
[1] 10.86278
[1] 10.90871
[1] 10.95445
[1] 11
[1] 11.04536
[1] 11.09054
[1] 11.13553
[1] 11.18034
[1] 11.22497
[1] 11.26943
[1] 11.31371
[1] 11.35782
[1] 11.40175
[1] 11.44552
[1] 11.48913
[1] 11.53256
[1] 11.57584
[1] 11.61895
[1] 11.6619
[1] 11.7047
[1] 11.74734
[1] 11.78983
[1] 11.83216
[1] 11.87434
[1] 11.91638
[1] 11.95826
[1] 12
[1] 12.04159
[1] 12.08305
[1] 12.12436
[1] 12.16553
[1] 12.20656
[1] 12.24745
[1] 12.28821
[1] 12.32883
[1] 12.36932
[1] 12.40967
[1] 12.4499
[1] 12.49
[1] 12.52996
[1] 12.56981
[1] 12.60952
[1] 12.64911
[1] 12.68858
[1] 12.72792
[1] 12.76715
[1] 12.80625
[1] 12.84523
[1] 12.8841
[1] 12.92285
[1] 12.96148
[1] 13
[1] 13.0384
[1] 13.0767
[1] 13.11488
[1] 13.15295
[1] 13.19091
[1] 13.22876
[1] 13.2665
[1] 13.30413
[1] 13.34166
[1] 13.37909
[1] 13.41641
[1] 13.45362
[1] 13.49074
[1] 13.52775
[1] 13.56466
[1] 13.60147
[1] 13.63818
[1] 13.67479
[1] 13.71131
[1] 13.74773
[1] 13.78405
[1] 13.82027
[1] 13.85641
[1] 13.89244
[1] 13.92839
[1] 13.96424
[1] 14
[1] 14.03567
[1] 14.07125
[1] 14.10674
[1] 14.14214
[1] 14.17745
[1] 14.21267
[1] 14.24781
[1] 14.28286
[1] 14.31782
[1] 14.3527
[1] 14.38749
[1] 14.42221
[1] 14.45683
[1] 14.49138
[1] 14.52584
[1] 14.56022
[1] 14.59452
[1] 14.62874
[1] 14.66288
[1] 14.69694
[1] 14.73092
[1] 14.76482
[1] 14.79865
[1] 14.8324
[1] 14.86607
[1] 14.89966
[1] 14.93318
[1] 14.96663
[1] 15
[1] 15.0333
[1] 15.06652
[1] 15.09967
[1] 15.13275
[1] 15.16575
[1] 15.19868
[1] 15.23155
[1] 15.26434
[1] 15.29706
[1] 15.32971
[1] 15.36229
[1] 15.3948
[1] 15.42725
[1] 15.45962
[1] 15.49193
[1] 15.52417
[1] 15.55635
[1] 15.58846
[1] 15.6205
[1] 15.65248
[1] 15.68439
[1] 15.71623
[1] 15.74802
[1] 15.77973
[1] 15.81139
[1] 15.84298
[1] 15.87451
[1] 15.90597
[1] 15.93738
[1] 15.96872
[1] 16
[1] 16.03122
[1] 16.06238
[1] 16.09348
[1] 16.12452
[1] 16.15549
[1] 16.18641
[1] 16.21727
[1] 16.24808
[1] 16.27882
[1] 16.30951
[1] 16.34013
[1] 16.37071
[1] 16.40122
[1] 16.43168
[1] 16.46208
[1] 16.49242
[1] 16.52271
[1] 16.55295
[1] 16.58312
[1] 16.61325
[1] 16.64332
[1] 16.67333
[1] 16.70329
[1] 16.7332
[1] 16.76305
[1] 16.79286
[1] 16.8226
[1] 16.8523
[1] 16.88194
[1] 16.91153
[1] 16.94107
[1] 16.97056
[1] 17
[1] 17.02939
[1] 17.05872
[1] 17.08801
[1] 17.11724
[1] 17.14643
[1] 17.17556
[1] 17.20465
[1] 17.23369
[1] 17.26268
[1] 17.29162
[1] 17.32051
[1] 17.34935
[1] 17.37815
[1] 17.4069
[1] 17.4356
[1] 17.46425
[1] 17.49286
[1] 17.52142
[1] 17.54993
[1] 17.5784
[1] 17.60682
[1] 17.63519
[1] 17.66352
[1] 17.69181
[1] 17.72005
[1] 17.74824
[1] 17.77639
[1] 17.80449
[1] 17.83255
[1] 17.86057
[1] 17.88854
[1] 17.91647
[1] 17.94436
[1] 17.9722
[1] 18
[1] 18.02776
[1] 18.05547
[1] 18.08314
[1] 18.11077
[1] 18.13836
[1] 18.1659
[1] 18.19341
[1] 18.22087
[1] 18.24829
[1] 18.27567
[1] 18.30301
[1] 18.3303
[1] 18.35756
[1] 18.38478
[1] 18.41195
[1] 18.43909
[1] 18.46619
[1] 18.49324
[1] 18.52026
[1] 18.54724
[1] 18.57418
[1] 18.60108
[1] 18.62794
[1] 18.65476
[1] 18.68154
[1] 18.70829
[1] 18.73499
[1] 18.76166
[1] 18.78829
[1] 18.81489
[1] 18.84144
[1] 18.86796
[1] 18.89444
[1] 18.92089
[1] 18.9473
[1] 18.97367
[1] 19
[1] 19.0263
[1] 19.05256
[1] 19.07878
[1] 19.10497
[1] 19.13113
[1] 19.15724
[1] 19.18333
[1] 19.20937
[1] 19.23538
[1] 19.26136
[1] 19.2873
[1] 19.31321
[1] 19.33908
[1] 19.36492
[1] 19.39072
[1] 19.41649
[1] 19.44222
[1] 19.46792
[1] 19.49359
[1] 19.51922
[1] 19.54482
[1] 19.57039
[1] 19.59592
[1] 19.62142
[1] 19.64688
[1] 19.67232
[1] 19.69772
[1] 19.72308
[1] 19.74842
[1] 19.77372
[1] 19.79899
[1] 19.82423
[1] 19.84943
[1] 19.87461
[1] 19.89975
[1] 19.92486
[1] 19.94994
[1] 19.97498
[1] 20
[1] 20.02498
[1] 20.04994
[1] 20.07486
[1] 20.09975
[1] 20.12461
[1] 20.14944
[1] 20.17424
[1] 20.19901
[1] 20.22375
[1] 20.24846
[1] 20.27313
[1] 20.29778
[1] 20.3224
[1] 20.34699
[1] 20.37155
[1] 20.39608
[1] 20.42058
[1] 20.44505
[1] 20.46949
[1] 20.4939
[1] 20.51828
[1] 20.54264
[1] 20.56696
[1] 20.59126
[1] 20.61553
[1] 20.63977
[1] 20.66398
[1] 20.68816
[1] 20.71232
[1] 20.73644
[1] 20.76054
[1] 20.78461
[1] 20.80865
[1] 20.83267
[1] 20.85665
[1] 20.88061
[1] 20.90454
[1] 20.92845
[1] 20.95233
[1] 20.97618
[1] 21
[1] 21.0238
[1] 21.04757
[1] 21.07131
[1] 21.09502
[1] 21.11871
[1] 21.14237
[1] 21.16601
[1] 21.18962
[1] 21.2132
[1] 21.23676
[1] 21.26029
[1] 21.2838
[1] 21.30728
[1] 21.33073
[1] 21.35416
[1] 21.37756
[1] 21.40093
[1] 21.42429
[1] 21.44761
[1] 21.47091
[1] 21.49419
[1] 21.51743
[1] 21.54066
[1] 21.56386
[1] 21.58703
[1] 21.61018
[1] 21.63331
[1] 21.65641
[1] 21.67948
[1] 21.70253
[1] 21.72556
[1] 21.74856
[1] 21.77154
[1] 21.79449
[1] 21.81742
[1] 21.84033
[1] 21.86321
[1] 21.88607
[1] 21.9089
[1] 21.93171
[1] 21.9545
[1] 21.97726
[1] 22
[1] 22.02272
[1] 22.04541
[1] 22.06808
[1] 22.09072
[1] 22.11334
[1] 22.13594
[1] 22.15852
[1] 22.18107
[1] 22.2036
[1] 22.22611
[1] 22.2486
[1] 22.27106
[1] 22.2935
[1] 22.31591
[1] 22.33831
[1] 22.36068
[1] 22.38303
[1] 22.40536
[1] 22.42766
[1] 22.44994
[1] 22.47221
[1] 22.49444
[1] 22.51666
[1] 22.53886
[1] 22.56103
[1] 22.58318
[1] 22.60531
[1] 22.62742
[1] 22.6495
[1] 22.67157
[1] 22.69361
[1] 22.71563
[1] 22.73763
[1] 22.75961
[1] 22.78157
[1] 22.80351
[1] 22.82542
[1] 22.84732
[1] 22.86919
[1] 22.89105
[1] 22.91288
[1] 22.93469
[1] 22.95648
[1] 22.97825
[1] 23
[1] 23.02173
[1] 23.04344
[1] 23.06513
[1] 23.08679
[1] 23.10844
[1] 23.13007
[1] 23.15167
[1] 23.17326
[1] 23.19483
[1] 23.21637
[1] 23.2379
[1] 23.25941
[1] 23.28089
[1] 23.30236
[1] 23.32381
[1] 23.34524
[1] 23.36664
[1] 23.38803
[1] 23.4094
[1] 23.43075
[1] 23.45208
[1] 23.47339
[1] 23.49468
[1] 23.51595
[1] 23.5372
[1] 23.55844
[1] 23.57965
[1] 23.60085
[1] 23.62202
[1] 23.64318
[1] 23.66432
[1] 23.68544
[1] 23.70654
[1] 23.72762
[1] 23.74868
[1] 23.76973
[1] 23.79075
[1] 23.81176
[1] 23.83275
[1] 23.85372
[1] 23.87467
[1] 23.89561
[1] 23.91652
[1] 23.93742
[1] 23.9583
[1] 23.97916
[1] 24
[1] 24.02082
[1] 24.04163
[1] 24.06242
[1] 24.08319
[1] 24.10394
[1] 24.12468
[1] 24.14539
[1] 24.16609
[1] 24.18677
[1] 24.20744
[1] 24.22808
[1] 24.24871
[1] 24.26932
[1] 24.28992
[1] 24.31049
[1] 24.33105
[1] 24.35159
[1] 24.37212
[1] 24.39262
[1] 24.41311
[1] 24.43358
[1] 24.45404
[1] 24.47448
[1] 24.4949
[1] 24.5153
[1] 24.53569
[1] 24.55606
[1] 24.57641
[1] 24.59675
[1] 24.61707
[1] 24.63737
[1] 24.65766
[1] 24.67793
[1] 24.69818
[1] 24.71841
[1] 24.73863
[1] 24.75884
[1] 24.77902
[1] 24.79919
[1] 24.81935
[1] 24.83948
[1] 24.85961
[1] 24.87971
[1] 24.8998
[1] 24.91987
[1] 24.93993
[1] 24.95997
[1] 24.97999
[1] 25
[1] 25.01999
[1] 25.03997
[1] 25.05993
[1] 25.07987
[1] 25.0998
[1] 25.11971
[1] 25.13961
[1] 25.15949
[1] 25.17936
[1] 25.19921
[1] 25.21904
[1] 25.23886
[1] 25.25866
[1] 25.27845
[1] 25.29822
[1] 25.31798
[1] 25.33772
[1] 25.35744
[1] 25.37716
[1] 25.39685
[1] 25.41653
[1] 25.43619
[1] 25.45584
[1] 25.47548
[1] 25.4951
[1] 25.5147
[1] 25.53429
[1] 25.55386
[1] 25.57342
[1] 25.59297
[1] 25.6125
[1] 25.63201
[1] 25.65151
[1] 25.671
[1] 25.69047
[1] 25.70992
[1] 25.72936
[1] 25.74879
[1] 25.7682
[1] 25.78759
[1] 25.80698
[1] 25.82634
[1] 25.8457
[1] 25.86503
[1] 25.88436
[1] 25.90367
[1] 25.92296
[1] 25.94224
[1] 25.96151
[1] 25.98076
[1] 26
[1] 26.01922
[1] 26.03843
[1] 26.05763
[1] 26.07681
[1] 26.09598
[1] 26.11513
[1] 26.13427
[1] 26.15339
[1] 26.1725
[1] 26.1916
[1] 26.21068
[1] 26.22975
[1] 26.24881
[1] 26.26785
[1] 26.28688
[1] 26.30589
[1] 26.32489
[1] 26.34388
[1] 26.36285
[1] 26.38181
[1] 26.40076
[1] 26.41969
[1] 26.43861
[1] 26.45751
[1] 26.4764
[1] 26.49528
[1] 26.51415
[1] 26.533
[1] 26.55184
[1] 26.57066
[1] 26.58947
[1] 26.60827
[1] 26.62705
[1] 26.64583
[1] 26.66458
[1] 26.68333
[1] 26.70206
[1] 26.72078
[1] 26.73948
[1] 26.75818
[1] 26.77686
[1] 26.79552
[1] 26.81418
[1] 26.83282
[1] 26.85144
[1] 26.87006
[1] 26.88866
[1] 26.90725
[1] 26.92582
[1] 26.94439
[1] 26.96294
[1] 26.98148
[1] 27
[1] 27.01851
[1] 27.03701
[1] 27.0555
[1] 27.07397
[1] 27.09243
[1] 27.11088
[1] 27.12932
[1] 27.14774
[1] 27.16616
[1] 27.18455
[1] 27.20294
[1] 27.22132
[1] 27.23968
[1] 27.25803
[1] 27.27636
[1] 27.29469
[1] 27.313
[1] 27.3313
[1] 27.34959
[1] 27.36786
[1] 27.38613
[1] 27.40438
[1] 27.42262
[1] 27.44085
[1] 27.45906
[1] 27.47726
[1] 27.49545
[1] 27.51363
[1] 27.5318
[1] 27.54995
[1] 27.5681
[1] 27.58623
[1] 27.60435
[1] 27.62245
[1] 27.64055
[1] 27.65863
[1] 27.67671
[1] 27.69476
[1] 27.71281
[1] 27.73085
[1] 27.74887
[1] 27.76689
[1] 27.78489
[1] 27.80288
[1] 27.82086
[1] 27.83882
[1] 27.85678
[1] 27.87472
[1] 27.89265
[1] 27.91057
[1] 27.92848
[1] 27.94638
[1] 27.96426
[1] 27.98214
[1] 28
[1] 28.01785
[1] 28.03569
[1] 28.05352
[1] 28.07134
[1] 28.08914
[1] 28.10694
[1] 28.12472
[1] 28.14249
[1] 28.16026
[1] 28.17801
[1] 28.19574
[1] 28.21347
[1] 28.23119
[1] 28.24889
[1] 28.26659
[1] 28.28427
[1] 28.30194
[1] 28.3196
[1] 28.33725
[1] 28.35489
[1] 28.37252
[1] 28.39014
[1] 28.40775
[1] 28.42534
[1] 28.44293
[1] 28.4605
[1] 28.47806
[1] 28.49561
[1] 28.51315
[1] 28.53069
[1] 28.5482
[1] 28.56571
[1] 28.58321
[1] 28.6007
[1] 28.61818
[1] 28.63564
[1] 28.6531
[1] 28.67054
[1] 28.68798
[1] 28.7054
[1] 28.72281
[1] 28.74022
[1] 28.75761
[1] 28.77499
[1] 28.79236
[1] 28.80972
[1] 28.82707
[1] 28.84441
[1] 28.86174
[1] 28.87906
[1] 28.89637
[1] 28.91366
[1] 28.93095
[1] 28.94823
[1] 28.9655
[1] 28.98275
[1] 29
[1] 29.01724
[1] 29.03446
[1] 29.05168
[1] 29.06888
[1] 29.08608
[1] 29.10326
[1] 29.12044
[1] 29.1376
[1] 29.15476
[1] 29.1719
[1] 29.18904
[1] 29.20616
[1] 29.22328
[1] 29.24038
[1] 29.25748
[1] 29.27456
[1] 29.29164
[1] 29.3087
[1] 29.32576
[1] 29.3428
[1] 29.35984
[1] 29.37686
[1] 29.39388
[1] 29.41088
[1] 29.42788
[1] 29.44486
[1] 29.46184
[1] 29.47881
[1] 29.49576
[1] 29.51271
[1] 29.52965
[1] 29.54657
[1] 29.56349
[1] 29.5804
[1] 29.5973
[1] 29.61419
[1] 29.63106
[1] 29.64793
[1] 29.66479
[1] 29.68164
[1] 29.69848
[1] 29.71532
[1] 29.73214
[1] 29.74895
[1] 29.76575
[1] 29.78255
[1] 29.79933
[1] 29.8161
[1] 29.83287
[1] 29.84962
[1] 29.86637
[1] 29.88311
[1] 29.89983
[1] 29.91655
[1] 29.93326
[1] 29.94996
[1] 29.96665
[1] 29.98333
[1] 30
[1] 30.01666
[1] 30.03331
[1] 30.04996
[1] 30.06659
[1] 30.08322
[1] 30.09983
[1] 30.11644
[1] 30.13304
[1] 30.14963
[1] 30.16621
[1] 30.18278
[1] 30.19934
[1] 30.21589
[1] 30.23243
[1] 30.24897
[1] 30.26549
[1] 30.28201
[1] 30.29851
[1] 30.31501
[1] 30.3315
[1] 30.34798
[1] 30.36445
[1] 30.38092
[1] 30.39737
[1] 30.41381
[1] 30.43025
[1] 30.44667
[1] 30.46309
[1] 30.4795
[1] 30.4959
[1] 30.51229
[1] 30.52868
[1] 30.54505
[1] 30.56141
[1] 30.57777
[1] 30.59412
[1] 30.61046
[1] 30.62679
[1] 30.64311
[1] 30.65942
[1] 30.67572
[1] 30.69202
[1] 30.70831
[1] 30.72458
[1] 30.74085
[1] 30.75711
[1] 30.77337
[1] 30.78961
[1] 30.80584
[1] 30.82207
[1] 30.83829
[1] 30.8545
[1] 30.8707
[1] 30.88689
[1] 30.90307
[1] 30.91925
[1] 30.93542
[1] 30.95158
[1] 30.96773
[1] 30.98387
[1] 31
[1] 31.01612
[1] 31.03224
[1] 31.04835
[1] 31.06445
[1] 31.08054
[1] 31.09662
[1] 31.1127
[1] 31.12876
[1] 31.14482
[1] 31.16087
[1] 31.17691
[1] 31.19295
[1] 31.20897
[1] 31.22499
[1] 31.241
[1] 31.257
[1] 31.27299
[1] 31.28898
[1] 31.30495
[1] 31.32092
[1] 31.33688
[1] 31.35283
[1] 31.36877
[1] 31.38471
[1] 31.40064
[1] 31.41656
[1] 31.43247
[1] 31.44837
[1] 31.46427
[1] 31.48015
[1] 31.49603
[1] 31.5119
[1] 31.52777
[1] 31.54362
[1] 31.55947
[1] 31.57531
[1] 31.59114
[1] 31.60696
[1] 31.62278
~~~
{: .output}



~~~
Time difference of 0.02683926 secs
~~~
{: .output}

A more efficient way to calculate the square root of the numbers from 1 to 10
would be use the fact that sqrt() is a vectorized function that will calculate 
the square root of every element in a vector used as input to it:


~~~
tic <- Sys.time()
sqrt(1:1000)
~~~
{: .language-r}



~~~
   [1]  1.000000  1.414214  1.732051  2.000000  2.236068  2.449490  2.645751
   [8]  2.828427  3.000000  3.162278  3.316625  3.464102  3.605551  3.741657
  [15]  3.872983  4.000000  4.123106  4.242641  4.358899  4.472136  4.582576
  [22]  4.690416  4.795832  4.898979  5.000000  5.099020  5.196152  5.291503
  [29]  5.385165  5.477226  5.567764  5.656854  5.744563  5.830952  5.916080
  [36]  6.000000  6.082763  6.164414  6.244998  6.324555  6.403124  6.480741
  [43]  6.557439  6.633250  6.708204  6.782330  6.855655  6.928203  7.000000
  [50]  7.071068  7.141428  7.211103  7.280110  7.348469  7.416198  7.483315
  [57]  7.549834  7.615773  7.681146  7.745967  7.810250  7.874008  7.937254
  [64]  8.000000  8.062258  8.124038  8.185353  8.246211  8.306624  8.366600
  [71]  8.426150  8.485281  8.544004  8.602325  8.660254  8.717798  8.774964
  [78]  8.831761  8.888194  8.944272  9.000000  9.055385  9.110434  9.165151
  [85]  9.219544  9.273618  9.327379  9.380832  9.433981  9.486833  9.539392
  [92]  9.591663  9.643651  9.695360  9.746794  9.797959  9.848858  9.899495
  [99]  9.949874 10.000000 10.049876 10.099505 10.148892 10.198039 10.246951
 [106] 10.295630 10.344080 10.392305 10.440307 10.488088 10.535654 10.583005
 [113] 10.630146 10.677078 10.723805 10.770330 10.816654 10.862780 10.908712
 [120] 10.954451 11.000000 11.045361 11.090537 11.135529 11.180340 11.224972
 [127] 11.269428 11.313708 11.357817 11.401754 11.445523 11.489125 11.532563
 [134] 11.575837 11.618950 11.661904 11.704700 11.747340 11.789826 11.832160
 [141] 11.874342 11.916375 11.958261 12.000000 12.041595 12.083046 12.124356
 [148] 12.165525 12.206556 12.247449 12.288206 12.328828 12.369317 12.409674
 [155] 12.449900 12.489996 12.529964 12.569805 12.609520 12.649111 12.688578
 [162] 12.727922 12.767145 12.806248 12.845233 12.884099 12.922848 12.961481
 [169] 13.000000 13.038405 13.076697 13.114877 13.152946 13.190906 13.228757
 [176] 13.266499 13.304135 13.341664 13.379088 13.416408 13.453624 13.490738
 [183] 13.527749 13.564660 13.601471 13.638182 13.674794 13.711309 13.747727
 [190] 13.784049 13.820275 13.856406 13.892444 13.928388 13.964240 14.000000
 [197] 14.035669 14.071247 14.106736 14.142136 14.177447 14.212670 14.247807
 [204] 14.282857 14.317821 14.352700 14.387495 14.422205 14.456832 14.491377
 [211] 14.525839 14.560220 14.594520 14.628739 14.662878 14.696938 14.730920
 [218] 14.764823 14.798649 14.832397 14.866069 14.899664 14.933185 14.966630
 [225] 15.000000 15.033296 15.066519 15.099669 15.132746 15.165751 15.198684
 [232] 15.231546 15.264338 15.297059 15.329710 15.362291 15.394804 15.427249
 [239] 15.459625 15.491933 15.524175 15.556349 15.588457 15.620499 15.652476
 [246] 15.684387 15.716234 15.748016 15.779734 15.811388 15.842980 15.874508
 [253] 15.905974 15.937377 15.968719 16.000000 16.031220 16.062378 16.093477
 [260] 16.124515 16.155494 16.186414 16.217275 16.248077 16.278821 16.309506
 [267] 16.340135 16.370706 16.401219 16.431677 16.462078 16.492423 16.522712
 [274] 16.552945 16.583124 16.613248 16.643317 16.673332 16.703293 16.733201
 [281] 16.763055 16.792856 16.822604 16.852300 16.881943 16.911535 16.941074
 [288] 16.970563 17.000000 17.029386 17.058722 17.088007 17.117243 17.146428
 [295] 17.175564 17.204651 17.233688 17.262677 17.291616 17.320508 17.349352
 [302] 17.378147 17.406895 17.435596 17.464249 17.492856 17.521415 17.549929
 [309] 17.578396 17.606817 17.635192 17.663522 17.691806 17.720045 17.748239
 [316] 17.776389 17.804494 17.832555 17.860571 17.888544 17.916473 17.944358
 [323] 17.972201 18.000000 18.027756 18.055470 18.083141 18.110770 18.138357
 [330] 18.165902 18.193405 18.220867 18.248288 18.275667 18.303005 18.330303
 [337] 18.357560 18.384776 18.411953 18.439089 18.466185 18.493242 18.520259
 [344] 18.547237 18.574176 18.601075 18.627936 18.654758 18.681542 18.708287
 [351] 18.734994 18.761663 18.788294 18.814888 18.841444 18.867962 18.894444
 [358] 18.920888 18.947295 18.973666 19.000000 19.026298 19.052559 19.078784
 [365] 19.104973 19.131126 19.157244 19.183326 19.209373 19.235384 19.261360
 [372] 19.287302 19.313208 19.339080 19.364917 19.390719 19.416488 19.442222
 [379] 19.467922 19.493589 19.519221 19.544820 19.570386 19.595918 19.621417
 [386] 19.646883 19.672316 19.697716 19.723083 19.748418 19.773720 19.798990
 [393] 19.824228 19.849433 19.874607 19.899749 19.924859 19.949937 19.974984
 [400] 20.000000 20.024984 20.049938 20.074860 20.099751 20.124612 20.149442
 [407] 20.174241 20.199010 20.223748 20.248457 20.273135 20.297783 20.322401
 [414] 20.346990 20.371549 20.396078 20.420578 20.445048 20.469489 20.493902
 [421] 20.518285 20.542639 20.566964 20.591260 20.615528 20.639767 20.663978
 [428] 20.688161 20.712315 20.736441 20.760539 20.784610 20.808652 20.832667
 [435] 20.856654 20.880613 20.904545 20.928450 20.952327 20.976177 21.000000
 [442] 21.023796 21.047565 21.071308 21.095023 21.118712 21.142375 21.166010
 [449] 21.189620 21.213203 21.236761 21.260292 21.283797 21.307276 21.330729
 [456] 21.354157 21.377558 21.400935 21.424285 21.447611 21.470911 21.494185
 [463] 21.517435 21.540659 21.563859 21.587033 21.610183 21.633308 21.656408
 [470] 21.679483 21.702534 21.725561 21.748563 21.771541 21.794495 21.817424
 [477] 21.840330 21.863211 21.886069 21.908902 21.931712 21.954498 21.977261
 [484] 22.000000 22.022716 22.045408 22.068076 22.090722 22.113344 22.135944
 [491] 22.158520 22.181073 22.203603 22.226111 22.248595 22.271057 22.293497
 [498] 22.315914 22.338308 22.360680 22.383029 22.405357 22.427661 22.449944
 [505] 22.472205 22.494444 22.516660 22.538855 22.561028 22.583180 22.605309
 [512] 22.627417 22.649503 22.671568 22.693611 22.715633 22.737634 22.759613
 [519] 22.781571 22.803509 22.825424 22.847319 22.869193 22.891046 22.912878
 [526] 22.934690 22.956481 22.978251 23.000000 23.021729 23.043437 23.065125
 [533] 23.086793 23.108440 23.130067 23.151674 23.173260 23.194827 23.216374
 [540] 23.237900 23.259407 23.280893 23.302360 23.323808 23.345235 23.366643
 [547] 23.388031 23.409400 23.430749 23.452079 23.473389 23.494680 23.515952
 [554] 23.537205 23.558438 23.579652 23.600847 23.622024 23.643181 23.664319
 [561] 23.685439 23.706539 23.727621 23.748684 23.769729 23.790755 23.811762
 [568] 23.832751 23.853721 23.874673 23.895606 23.916521 23.937418 23.958297
 [575] 23.979158 24.000000 24.020824 24.041631 24.062419 24.083189 24.103942
 [582] 24.124676 24.145393 24.166092 24.186773 24.207437 24.228083 24.248711
 [589] 24.269322 24.289916 24.310492 24.331050 24.351591 24.372115 24.392622
 [596] 24.413111 24.433583 24.454039 24.474477 24.494897 24.515301 24.535688
 [603] 24.556058 24.576411 24.596748 24.617067 24.637370 24.657656 24.677925
 [610] 24.698178 24.718414 24.738634 24.758837 24.779023 24.799194 24.819347
 [617] 24.839485 24.859606 24.879711 24.899799 24.919872 24.939928 24.959968
 [624] 24.979992 25.000000 25.019992 25.039968 25.059928 25.079872 25.099801
 [631] 25.119713 25.139610 25.159491 25.179357 25.199206 25.219040 25.238859
 [638] 25.258662 25.278449 25.298221 25.317978 25.337719 25.357445 25.377155
 [645] 25.396850 25.416530 25.436195 25.455844 25.475478 25.495098 25.514702
 [652] 25.534291 25.553865 25.573424 25.592968 25.612497 25.632011 25.651511
 [659] 25.670995 25.690465 25.709920 25.729361 25.748786 25.768197 25.787594
 [666] 25.806976 25.826343 25.845696 25.865034 25.884358 25.903668 25.922963
 [673] 25.942244 25.961510 25.980762 26.000000 26.019224 26.038433 26.057628
 [680] 26.076810 26.095977 26.115130 26.134269 26.153394 26.172505 26.191602
 [687] 26.210685 26.229754 26.248809 26.267851 26.286879 26.305893 26.324893
 [694] 26.343880 26.362853 26.381812 26.400758 26.419690 26.438608 26.457513
 [701] 26.476405 26.495283 26.514147 26.532998 26.551836 26.570661 26.589472
 [708] 26.608269 26.627054 26.645825 26.664583 26.683328 26.702060 26.720778
 [715] 26.739484 26.758176 26.776856 26.795522 26.814175 26.832816 26.851443
 [722] 26.870058 26.888659 26.907248 26.925824 26.944387 26.962938 26.981475
 [729] 27.000000 27.018512 27.037012 27.055499 27.073973 27.092434 27.110883
 [736] 27.129320 27.147744 27.166155 27.184554 27.202941 27.221315 27.239677
 [743] 27.258026 27.276363 27.294688 27.313001 27.331301 27.349589 27.367864
 [750] 27.386128 27.404379 27.422618 27.440845 27.459060 27.477263 27.495454
 [757] 27.513633 27.531800 27.549955 27.568098 27.586228 27.604347 27.622455
 [764] 27.640550 27.658633 27.676705 27.694765 27.712813 27.730849 27.748874
 [771] 27.766887 27.784888 27.802878 27.820855 27.838822 27.856777 27.874720
 [778] 27.892651 27.910571 27.928480 27.946377 27.964263 27.982137 28.000000
 [785] 28.017851 28.035692 28.053520 28.071338 28.089144 28.106939 28.124722
 [792] 28.142495 28.160256 28.178006 28.195744 28.213472 28.231188 28.248894
 [799] 28.266588 28.284271 28.301943 28.319605 28.337255 28.354894 28.372522
 [806] 28.390139 28.407745 28.425341 28.442925 28.460499 28.478062 28.495614
 [813] 28.513155 28.530685 28.548205 28.565714 28.583212 28.600699 28.618176
 [820] 28.635642 28.653098 28.670542 28.687977 28.705400 28.722813 28.740216
 [827] 28.757608 28.774989 28.792360 28.809721 28.827071 28.844410 28.861739
 [834] 28.879058 28.896367 28.913665 28.930952 28.948230 28.965497 28.982753
 [841] 29.000000 29.017236 29.034462 29.051678 29.068884 29.086079 29.103264
 [848] 29.120440 29.137605 29.154759 29.171904 29.189039 29.206164 29.223278
 [855] 29.240383 29.257478 29.274562 29.291637 29.308702 29.325757 29.342802
 [862] 29.359837 29.376862 29.393877 29.410882 29.427878 29.444864 29.461840
 [869] 29.478806 29.495762 29.512709 29.529646 29.546573 29.563491 29.580399
 [876] 29.597297 29.614186 29.631065 29.647934 29.664794 29.681644 29.698485
 [883] 29.715316 29.732137 29.748950 29.765752 29.782545 29.799329 29.816103
 [890] 29.832868 29.849623 29.866369 29.883106 29.899833 29.916551 29.933259
 [897] 29.949958 29.966648 29.983329 30.000000 30.016662 30.033315 30.049958
 [904] 30.066593 30.083218 30.099834 30.116441 30.133038 30.149627 30.166206
 [911] 30.182777 30.199338 30.215890 30.232433 30.248967 30.265492 30.282008
 [918] 30.298515 30.315013 30.331502 30.347982 30.364453 30.380915 30.397368
 [925] 30.413813 30.430248 30.446675 30.463092 30.479501 30.495901 30.512293
 [932] 30.528675 30.545049 30.561414 30.577770 30.594117 30.610456 30.626786
 [939] 30.643107 30.659419 30.675723 30.692019 30.708305 30.724583 30.740852
 [946] 30.757113 30.773365 30.789609 30.805844 30.822070 30.838288 30.854497
 [953] 30.870698 30.886890 30.903074 30.919250 30.935417 30.951575 30.967725
 [960] 30.983867 31.000000 31.016125 31.032241 31.048349 31.064449 31.080541
 [967] 31.096624 31.112698 31.128765 31.144823 31.160873 31.176915 31.192948
 [974] 31.208973 31.224990 31.240999 31.256999 31.272992 31.288976 31.304952
 [981] 31.320920 31.336879 31.352831 31.368774 31.384710 31.400637 31.416556
 [988] 31.432467 31.448370 31.464265 31.480152 31.496031 31.511903 31.527766
 [995] 31.543621 31.559468 31.575307 31.591138 31.606961 31.622777
~~~
{: .output}



~~~
toc <- Sys.time()
vect_time <- toc - tic
vect_time
~~~
{: .language-r}



~~~
Time difference of 0.004349947 secs
~~~
{: .output}

And we can then compare how much faster the latter vectorized solution is.

~~~
as.numeric(for_time)/as.numeric(vect_time)
~~~
{: .language-r}



~~~
[1] 6.170019
~~~
{: .output}
More than double as fast!
To be fair most of the time is spent outputting the results, but as a general
rule utilizing the vectorized nature of functions is faster than writing loops.
But that is not always a luxury we have.

### while loops
While loops are loops that execute the code - as long as some criterium is satisfied.

~~~
i <- 1
while(i <= 10){
  print(sqrt(i))
  i <- i + 1
}
~~~
{: .language-r}



~~~
[1] 1
[1] 1.414214
[1] 1.732051
[1] 2
[1] 2.236068
[1] 2.44949
[1] 2.645751
[1] 2.828427
[1] 3
[1] 3.162278
~~~
{: .output}
This loop structure does the exact same as the two previous examples.
Here we need to assign an initial value i, and then our while loop will execute
the code within the curly braces, as long as i is smaller than or equal to 10.
It is important to remember to increment the value of i - otherwise i will always
be 1, and therefore always smaller than 10. And the loop will never stop.




{% include links.md %}
